# ==== Gzip (compression) ====
gzip on;                          # 텍스트 응답 압축 활성화 (gzip)
gzip_comp_level 5;                # 1~9 (권장 4~6: 성능/효율 밸런스)
gzip_min_length 1024;             # 1KB 이상만 압축
gzip_vary on;                     # Vary: Accept-Encoding → 캐시 프록시 호환성

# 프록시 응답도 압축 (any|expired|no-cache|no-store|private 등 필요시 조정)
gzip_proxied any;

# 텍스트 계열만 압축 (이미지/바이너리 제외!)
gzip_types
  text/plain
  text/css
  text/javascript
  application/javascript
  application/x-javascript
  application/json
  application/ld+json
  application/xml
  application/rss+xml
  application/atom+xml
  application/xhtml+xml
  application/x-font-ttf
  application/font-woff
  application/vnd.ms-fontobject
  image/svg+xml;

# 구형 IE6 비활성화 (관성적 설정, 요즘은 크게 영향 X)
gzip_disable "msie6";

# (선택) 정적 사전압축 파일(.gz) 제공 시
# gzip_static on;
